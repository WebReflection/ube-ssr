<!doctype html>
    <div data-ube=0>Hello SSR ðŸ‘‹ </div><script type=module>self._s70=function _($){return _[$]};
_s70.$=function(t){"use strict";var e={};var r=e.$=(t,e)=>{for(var r=0,u=t(e),n=t("ube").upgrade,a="function"==typeof u?u:function(t){for(var e in t)if("default"===e||"function"==typeof t[e]&&/^[A-Z]/.test(e))return t[e]}(u),f=document.querySelectorAll('[data-ube="'+e+'"]');r<f.length;)f[r].removeAttribute("data-ube"),n(f[r++],a)};return t.$=r,t.default=e,t}({});
_s70.ube=function(e){"use strict";function t(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var n={},r={};
/*! (c) Andrea Giammarchi - ISC */
"isConnected"in Element.prototype||Object.defineProperty(Element.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}});var a={};const o=!0,s=!1,l="querySelectorAll";function c(e){this.observe(e,{subtree:o,childList:o})}a.notify=(e,t,n)=>{const r=(t,n,a,s,c)=>{for(let i=0,{length:u}=t;i<u;i++){const u=t[i];(c||l in u)&&(s?n.has(u)||(n.add(u),a.delete(u),e(u,s)):a.has(u)||(a.add(u),n.delete(u),e(u,s)),c||r(u[l]("*"),n,a,s,o))}},a=new(n||MutationObserver)((e=>{for(let t=new Set,n=new Set,a=0,{length:l}=e;a<l;a++){const{addedNodes:l,removedNodes:c}=e[a];r(c,t,n,s,s),r(l,t,n,o,s)}}));return a.add=c,a.add(t||document),a};
/*! (c) Andrea Giammarchi - ISC */
const{notify:i}=a,u="Element",d="attributeChangedCallback",f="connectedCallback",p="disconnectedCallback",h="upgradedCallback",g="downgradedCallback",{getOwnPropertyNames:b,setPrototypeOf:m}=Object,v=new WeakMap,y=new WeakMap,w=new Set,C=(e,t)=>document.createElementNS(t?"http://www.w3.org/2000/svg":"",e),N=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const{target:n,attributeName:r,oldValue:a}=e[t];v.has(n)&&n.attributeChangedCallback(r,a,n.getAttribute(r))}})),k=e=>{w.has(e.constructor)||(v.delete(e),y.delete(e),g in e&&e.downgradedCallback(),m(e,C(e.tagName,"ownerSVGElement"in e).constructor.prototype))},A=(e,t)=>{if(!(e instanceof t)){k(e),m(e,t.prototype),h in e&&e.upgradedCallback();const{observedAttributes:n}=t;if(n&&d in e){v.set(e,0),N.observe(e,{attributeFilter:n,attributeOldValue:!0,attributes:!0});for(let t=0;t<n.length;t++){const r=n[t],a=e.getAttribute(r);null!=a&&e.attributeChangedCallback(r,null,a)}}(f in e||p in e)&&(y.set(e,0),e.isConnected&&f in e&&e.connectedCallback())}return e},O={},M={},S={Anchor:"A",DList:"DL",Directory:"Dir",Heading:["H6","H5","H4","H3","H2","H1"],Image:"Img",OList:"OL",Paragraph:"P",TableCaption:"Caption",TableCell:["TH","TD"],TableRow:"TR",UList:"UL",[u]:["Article","Aside","Footer","Header","Main","Nav","Section",u]};b(window).forEach((e=>{if(/^(HTML|SVG)/.test(e)){const{$1:t}=RegExp,n="SVG"==t,r=e.slice(t.length,-7)||u,a=n?O:M,o=window[e];w.add(o),[].concat(S[r]||r).forEach((e=>{const t=e.toLowerCase();function s(){return A(C(t,n),this.constructor)}s.tagName=t,s.prototype=o.prototype,a[r]=a[e]=s}))}}));const T=i(((e,t)=>{if(y.has(e)){const n=t?f:p;n in e&&e[n]()}}));r.HTML=M,r.SVG=O,r.upgrade=A,r.downgrade=k,r.observer=T;var x={};const $=new WeakMap,E=(e,...t)=>{const{t:n,v:r}=((e,t)=>{const n=[e[0]],r=[];for(let a=0,o=0,s=0,{length:l}=t;o<l;o++)t[o]instanceof _?n[a]+=t[o].v+e[o+1]:(r[s++]=o,n[++a]=e[o+1]);return{t:n,v:r}})(e,t),a=$.get(e)||$.set(e,{}).get(e);return(a[n]||(a[n]=[n])).concat(r.map((e=>t[e])))};function _(e){this.v=e}x.asStatic=e=>new _(e),x.asParams=E,x.asTag=e=>function(){return e.apply(this,E.apply(null,arguments))};var L={},H=e=>({get:t=>e.get(t),set:(t,n)=>(e.set(t,n),n)}),P={};const D=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,j=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,W=/<[a-z][^>]+$/i,V=/>[^<>]*$/,G=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,R=/\s+$/,F=(e,t)=>0<t--&&(W.test(e[t])||!V.test(e[t])&&F(e,t)),I=(e,t,n)=>j.test(t)?e:`<${t}${n.replace(R,"")}></${t}>`;var z={};const{isArray:B}=Array,{indexOf:q,slice:U}=[];z.isArray=B,z.indexOf=q,z.slice=U;var J={};const{slice:K}=z;J.diffable=(e,t)=>111===e.nodeType?1/t<0?t?(({firstChild:e,lastChild:t})=>{const n=document.createRange();return n.setStartAfter(e),n.setEndAfter(t),n.deleteContents(),e})(e):e.lastChild:t?e.valueOf():e.firstChild:e;J.persistent=e=>{const{childNodes:t}=e,{length:n}=t;if(n<2)return n?t[0]:e;const r=K.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:r[0],lastChild:r[n-1],valueOf(){if(t.length!==n){let t=0;for(;t<n;)e.appendChild(r[t++])}return e}}};var Q={},X=t(Object.freeze({__proto__:null,default:(e,t,n,r,a)=>{const o=n.length;let s=t.length,l=o,c=0,i=0,u=null;for(;c<s||i<l;)if(s===c){const t=l<o?i?r(n[i-1],-0).nextSibling:r(n[l-i],0):a;for(;i<l;)e.insertBefore(r(n[i++],1),t)}else if(l===i)for(;c<s;)u&&u.has(t[c])||e.removeChild(r(t[c],-1)),c++;else if(t[c]===n[i])c++,i++;else if(t[s-1]===n[l-1])s--,l--;else if(t[c]===n[l-1]&&n[i]===t[s-1]){const a=r(t[--s],-1).nextSibling;e.insertBefore(r(n[i++],1),r(t[c++],-1).nextSibling),e.insertBefore(r(n[--l],1),a),t[s]=n[l]}else{if(!u){u=new Map;let e=i;for(;e<l;)u.set(n[e],e++)}if(u.has(t[c])){const a=u.get(t[c]);if(i<a&&a<l){let o=c,d=1;for(;++o<s&&o<l&&u.get(t[o])===a+d;)d++;if(d>a-i){const o=r(t[c],0);for(;i<a;)e.insertBefore(r(n[i++],1),o)}else e.replaceChild(r(n[i++],1),r(t[c++],-1))}else c++}else e.removeChild(r(t[c++],-1))}return n}})),Y={};const{isArray:Z}=z;Y.aria=e=>t=>{for(const n in t){const r="role"===n?n:`aria-${n}`,a=t[n];null==a?e.removeAttribute(r):e.setAttribute(r,a)}};Y.attribute=(e,t)=>{let n,r=!0;const a=document.createAttributeNS(null,t);return t=>{n!==t&&(n=t,null==n?r||(e.removeAttributeNode(a),r=!0):(a.value=t,r&&(e.setAttributeNodeNS(a),r=!1)))}};Y.boolean=(e,t,n)=>r=>{n!==!!r&&((n=!!r)?e.setAttribute(t,""):e.removeAttribute(t))};const ee=({dataset:e})=>t=>{for(const n in t){const r=t[n];null==r?delete e[n]:e[n]=r}};Y.data=ee;Y.event=(e,t)=>{let n,r=t.slice(2);return!(t in e)&&t.toLowerCase()in e&&(r=r.toLowerCase()),t=>{const a=Z(t)?t:[t,!1];n!==a[0]&&(n&&e.removeEventListener(r,n,a[1]),(n=a[0])&&e.addEventListener(r,n,a[1]))}};Y.ref=e=>{let t;return n=>{t!==n&&(t=n,"function"==typeof n?n(e):n.current=e)}};Y.setter=(e,t)=>"dataset"===t?ee(e):n=>{e[t]=n};Y.text=e=>{let t;return n=>{t!=n&&(t=n,e.textContent=null==n?"":n)}};var te={},ne=function(e){var t="fragment",n="template",r="content"in o(n)?function(e){var t=o(n);return t.innerHTML=e,t.content}:function(e){var r=o(t),s=o(n),l=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var c=RegExp.$1;s.innerHTML="<table>"+e+"</table>",l=s.querySelectorAll(c)}else s.innerHTML=e,l=s.childNodes;return a(r,l),r};return function(e,t){return("svg"===t?s:r)(e)};function a(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function o(n){return n===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",n)}function s(e){var n=o(t),r=o("div");return r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",a(n,r.firstChild.childNodes),n}}(document);
/*! (c) Andrea Giammarchi - ISC */const re=(ae=ne).__esModule?ae.default:ae;var ae;const{indexOf:oe}=z;te.reducePath=({childNodes:e},t)=>e[t];te.createPath=e=>{const t=[];let{parentNode:n}=e;for(;n;)t.push(oe.call(n.childNodes,e)),n=(e=n).parentNode;return t};const{createTreeWalker:se,importNode:le}=document;te.createTreeWalker=se,te.importNode=le;const ce=1!=le.length,ie=ce?(e,t,n)=>le.call(document,re(e,t,n),!0):re;te.createFragment=ie;const ue=ce?e=>se.call(document,e,129,null,!1):e=>se.call(document,e,129);te.createWalker=ue;const{isArray:de,slice:fe}=z,pe=(e=>e.__esModule?e.default:e)(X),{aria:he,attribute:ge,boolean:be,event:me,ref:ve,setter:ye,text:we}=Y,{diffable:Ce}=J,{reducePath:Ne}=te,ke=(e,t,n)=>pe(e.parentNode,t,n,Ce,e);Q.handlers=function(e){const{type:t,path:n}=e,r=n.reduceRight(Ne,this);return"node"===t?(e=>{let t,n,r=[];const a=o=>{switch(typeof o){case"string":case"number":case"boolean":t!==o&&(t=o,n||(n=document.createTextNode("")),n.data=o,r=ke(e,r,[n]));break;case"object":case"undefined":if(null==o){t!=o&&(t=o,r=ke(e,r,[]));break}if(de(o)){t=o,0===o.length?r=ke(e,r,[]):"object"==typeof o[0]?r=ke(e,r,o):a(String(o));break}t!==o&&"ELEMENT_NODE"in o&&(t=o,r=ke(e,r,11===o.nodeType?fe.call(o.childNodes):[o]));break;case"function":a(o(e))}};return a})(r):"attr"===t?((e,t)=>{switch(t[0]){case"?":return be(e,t.slice(1),!1);case".":return ye(e,t.slice(1));case"@":return me(e,"on"+t.slice(1));case"o":if("n"===t[1])return me(e,t)}switch(t){case"ref":return ve(e);case"aria":return he(e)}return ge(e,t)})(r,e.name):we(r)};const Ae=(e=>e.__esModule?e.default:e)(H),Oe=(e=>e.__esModule?e.default:e)(((e,t,n)=>{const r=[],{length:a}=e;for(let n=1;n<a;n++){const a=e[n-1];r.push(D.test(a)&&F(e,n)?a.replace(D,((e,r,a)=>`${t}${n-1}=${a||'"'}${r}${a?"":'"'}`)):`${a}\x3c!--${t}${n-1}--\x3e`)}r.push(e[a-1]);const o=r.join("").trim();return n?o:o.replace(G,I)})),{isArray:Me}=z,{persistent:Se}=J,{handlers:Te}=Q,{createFragment:xe,createPath:$e,createWalker:Ee,importNode:_e}=te,Le="isÂµ",He=Ae(new WeakMap),Pe=/^(?:plaintext|script|style|textarea|title|xmp)$/i,De=()=>({stack:[],entry:null,wire:null});P.createCache=De;const je=(e,t)=>{const{content:n,nodes:r}=He.get(t)||He.set(t,((e,t)=>{const n=Oe(t,Le,"svg"===e),r=xe(n,e),a=Ee(r),o=[],s=t.length-1;let l=0,c=`isÂµ${l}`;for(;l<s;){const e=a.nextNode();if(!e)throw`bad template: ${n}`;if(8===e.nodeType)e.data===c&&(o.push({type:"node",path:$e(e)}),c="isÂµ"+ ++l);else{for(;e.hasAttribute(c);)o.push({type:"attr",path:$e(e),name:e.getAttribute(c)}),e.removeAttribute(c),c="isÂµ"+ ++l;Pe.test(e.tagName)&&e.textContent.trim()===`\x3c!--${c}--\x3e`&&(e.textContent="",o.push({type:"text",path:$e(e)}),c="isÂµ"+ ++l)}}return{content:r,nodes:o}})(e,t)),a=_e.call(document,n,!0);return{content:a,updates:r.map(Te,a)}},We=(e,{type:t,template:n,values:r})=>{const{length:a}=r;Ve(e,r,a);let{entry:o}=e;o&&o.template===n&&o.type===t||(e.entry=o=((e,t)=>{const{content:n,updates:r}=je(e,t);return{type:e,template:t,content:n,updates:r,wire:null}})(t,n));const{content:s,updates:l,wire:c}=o;for(let e=0;e<a;e++)l[e](r[e]);return c||(o.wire=Se(s))};P.unroll=We;const Ve=({stack:e},t,n)=>{for(let r=0;r<n;r++){const n=t[r];n instanceof Ge?t[r]=We(e[r]||(e[r]={stack:[],entry:null,wire:null}),n):Me(n)?Ve(e[r]||(e[r]={stack:[],entry:null,wire:null}),n,n.length):e[r]=null}n<e.length&&e.splice(n)};function Ge(e,t,n){this.type=e,this.template=t,this.values=n}P.Hole=Ge;const Re=(e=>e.__esModule?e.default:e)(H),{Hole:Fe,createCache:Ie,unroll:ze}=P,{create:Be,defineProperties:qe}=Object,Ue=e=>{const t=Re(new WeakMap);return qe(((t,...n)=>new Fe(e,t,n)),{for:{value(n,r){const a=t.get(n)||t.set(n,Be(null));return a[r]||(a[r]=(t=>(n,...r)=>ze(t,{type:e,template:n,values:r}))(Ie()))}},node:{value:(t,...n)=>ze(Ie(),{type:e,template:t,values:n}).valueOf()}})},Je=Re(new WeakMap),Ke=Ue("html"),Qe=Ue("svg");L.Hole=Fe,L.render=(e,t)=>{const n="function"==typeof t?t():t,r=Je.get(e)||Je.set(e,Ie()),a=n instanceof Fe?ze(r,n):n;return a!==r.wire&&(r.wire=a,e.textContent="",e.appendChild(a.valueOf())),e},L.html=Ke,L.svg=Qe;const{HTML:Xe,SVG:Ye,upgrade:Ze,downgrade:et,observer:tt}=r,{asParams:nt,asStatic:rt}=x,{render:at,html:ot,svg:st}=L,lt="data-ube",ct=[],it=e=>{const t=ct.indexOf(e);return t<0?ct.push(e)-1:t},ut=e=>{function t(){return Ct.apply(e,arguments)}return t.for=(t,n)=>function(){return Ct.apply(e.for(t,n),arguments)},t};var dt=n.render=function(e){const t=at.apply(this,arguments),n=e.querySelectorAll(`[${lt}]`);for(let e=0,{length:t}=n;e<t;e++){const t=ct[n[e].getAttribute(lt)];n[e].removeAttribute(lt),Ze(n[e],t)}return t};const ft=ut(ot);var pt=n.html=ft;const ht=ut(st);var gt=n.svg=ht,bt=n.HTML=Xe,mt=n.SVG=Ye,vt=n.upgrade=Ze,yt=n.downgrade=et,wt=n.observer=tt;function Ct(e){const t=[e];for(let n=1,{length:r}=arguments;n<r;n++){let r=arguments[n];if("function"==typeof r&&"tagName"in r){const{tagName:t}=r,a=e[n-1];switch(a[a.length-1]){case"<":r=rt(`${t} ${lt}=${it(r)}`);break;case"/":r=rt(t)}}t.push(r)}return this.apply(null,nt.apply(null,t))}return e.HTML=bt,e.SVG=mt,e.default=n,e.downgrade=yt,e.html=pt,e.observer=wt,e.render=dt,e.svg=gt,e.upgrade=vt,e}({});
_s70["0"]=function(e){"use strict";const{HTML:s}=_s70.ube;class t extends s.Div{upgradedCallback(){this.style.border="1px solid blue"}}return e.default=t,e}({});
!function($){$.$.$($,0)}(_s70);</script>
    <!-- incremental test -->
    <div data-ube=0>Hello Again ðŸ‘‹ </div><script type=module>!function($){$.$.$($,0)}(_s70);</script>